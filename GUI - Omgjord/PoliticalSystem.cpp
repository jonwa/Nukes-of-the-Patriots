#include "PoliticalSystem.h"


PoliticalSystem::PoliticalSystem()
{
}


PoliticalSystem::~PoliticalSystem()
{
}


/*Funktioner som returnerar medlemsvariablernas värden*/
int PoliticalSystem::getCurrency()
{
	return mCurrency;
}

int PoliticalSystem::getFood()
{
	return mFood;
}

int PoliticalSystem::getGoods()
{
	return mGoods;
}

int PoliticalSystem::getPopulation()
{
	return mPopulation;
}

int PoliticalSystem::getTaxes()
{
	return mTaxes;
}

int PoliticalSystem::getTech()
{
	return mTech;
}

int PoliticalSystem::getNuclearWeapon()
{
	return mNuclearWeapon;
}

int PoliticalSystem::getSpaceProgram()
{
	return mSpaceProgram;
}

int PoliticalSystem::getSpyNetwork()
{
	return mSpyNetwork;
}

int PoliticalSystem::getRound()
{
	return mRound;
}
//--------------------------------------------
/*Funktioner som ger medlemsvariabler nya värden*/
void PoliticalSystem::setFood(int food)
{
	mFood = food;
}

void PoliticalSystem::setGoods(int goods)
{
	mGoods = goods;
}

void PoliticalSystem::setTaxes(int taxes)
{
	mTaxes = taxes;
}

void PoliticalSystem::setTech(int tech)
{
	mTech = tech;
}

void PoliticalSystem::setRound(int round)
{
	mRound = round;
}
//-----------------------------------------------------------

/*Uppgraderar mCurrency med mTaxes multiplicerat med mPopulation*/
void PoliticalSystem::getTaxIncome()
{
	mCurrency += mTaxes * mPopulation;
}

/*Kontrollerar ifall det finns nog med mat till hela befolkningen*/
bool PoliticalSystem::enoughFood()
{
	if(mFood >= mPopulation)
	{
		return true;
	}
	else
	{
		return false;
	}
}

void PoliticalSystem::updateFood()
{
	/*	Om mängden mat är tillräcklig blir mängden mat subtraherad med antalet befolkningen i miljoner
		Populationen ökar och om landet har mer eller lika mycket pengar som befolkning blir mIncreasePopulation true.
		Den används sedan för att ge möjligheten att betala en viss summa för att öka befolkningen*/
	if(enoughFood())
	{
		mFood -= mPopulation;
		++mPopulation;
		if(mCurrency >= mPopulation)
		{
			mIncreasePopulation = true;
		}
	}
	/*	Om mängden mat är mindre än häflten av befolkningen tilldelas mFood noll
		mPatriotism subtraheras även med två*/
	else if(mFood <= mPopulation / 2)
	{
		mFood = 0;
		mPatriotism -= 2;
	}
	/*	Om det inte finns tillräckligt med mat och mFood inte är lika med noll
		ökar inte patriotismen men mFood tilldelas noll*/
	else if(!enoughFood() && mFood != 0)
	{
		mFood = 0;
	}
	/*	Om inga av det överstående stämmer, innebär det att maten är lika med noll och befolkningen inte fått någon mat
		Detta ger minus fyra i patriotism*/
	else
	{
		mFood = 0;
		mPatriotism -= 4;
	}
}
/*Kontrollerar ifall det är möjligt att öka sin population*/
bool PoliticalSystem::enableToIncreasePopulation()
{
	return mIncreasePopulation;
}
/*	mCurrency subtraheras med mPopulation, befolkningen i miljoner.
	Ökar befolkningen med ett, en miljon.
	Och tilldelar boolean:en mIncreasePopulation till false.*/
void PoliticalSystem::increasePopulation()
{
	mCurrency -= mPopulation;

	++mPopulation;

	mIncreasePopulation = false;
}